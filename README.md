# MDW Validação - Sistema de Validação de Arquivos

Sistema web para validação automática e manual de diferentes tipos de arquivos, com persistência em banco de dados Firebird 5.0.

## 🚀 Funcionalidades

### Validações Automáticas
- **Validar Script HTML** - Validação de arquivos HTML/HTM
- **Validar Painel BI** - Validação de painéis de Business Intelligence
- **Validar Painel API** - Validação de APIs e endpoints
- **Validar Relatório** - Validação de relatórios diversos
- **Validar Script C#** - Validação de arquivos .cs

### Validação Manual
- **Checklist Manual** - Validação manual com checklist estruturado

## 🛠️ Tecnologias

- **Backend**: Flask (Python)
- **Frontend**: HTML, Tailwind CSS, Material Icons
- **Banco de Dados**: Firebird 5.0
- **Driver**: firebird-driver (novo driver oficial)

## 📦 Instalação

### 1. Clonar o repositório
```bash
git clone <url-do-repositorio>
cd mdwValidacao
```

### 2. Instalar dependências
```bash
pip install -r requirements.txt
```

### 3. Configurar banco de dados
```bash
python setup_database.py
```

### 4. Executar a aplicação
```bash
python app.py
```

## 🔄 Migração do Driver

Se você estava usando o driver `fdb` antigo, execute:

```bash
python migrate_driver.py
```

### Benefícios do Novo Driver:
- ✅ Melhor performance
- ✅ Suporte oficial do Firebird
- ✅ Compatibilidade com Firebird 5.0
- ✅ Melhor tratamento de erros
- ✅ Documentação mais completa

## 🗄️ Banco de Dados

### Configuração
- **Host**: localhost
- **Porta**: 3050
- **Usuário**: SYSDBA
- **Senha**: masterkey
- **Arquivo**: database/MDWVALIDACAO.FDB

### Estrutura
```sql
CREATE TABLE VALIDACOES (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TIPO_VALIDACAO VARCHAR(50),
    RESULTADO BLOB SUB_TYPE TEXT,
    DATA_VALIDACAO TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    NOME_ARQUIVO VARCHAR(255)
);
```

## 🧪 Testes

### Testar conexão com banco
```bash
python database/test_connection.py
```

### Testar validações
1. Acesse a aplicação em `http://localhost:5000`
2. Use o sidebar para navegar entre as validações
3. Faça upload de arquivos para testar

## 📁 Estrutura do Projeto

```
mdwValidacao/
├── app.py                      # Aplicação principal
├── requirements.txt            # Dependências
├── setup_database.py          # Script de configuração
├── migrate_driver.py          # Script de migração
├── database/                  # Módulo do banco de dados
│   ├── __init__.py
│   ├── config.py             # Configurações
│   ├── connection.py         # Conexão com Firebird
│   ├── models.py             # Modelos de dados
│   ├── test_connection.py    # Testes de conexão
│   └── MDWVALIDACAO.FDB     # Arquivo do banco
├── routes/                    # Rotas da aplicação
│   ├── main.py
│   ├── validacao.py
│   └── validacoes_especificas.py
├── templates/                 # Templates HTML
│   ├── base.html
│   ├── home.html
│   ├── validacao_manual.html
│   ├── validar_especifica.html
│   └── resultado_validacao.html
└── validators/               # Validadores
    └── html_validator.py
```

## 🔧 Configuração de Produção

### Variáveis de Ambiente
```bash
export FLASK_ENV=production
export DB_HOST=seu_servidor
export DB_PORT=3050
export DB_USER=seu_usuario
export DB_PASSWORD=sua_senha
export DB_PATH=caminho/para/MDWVALIDACAO.FDB
```

## 📊 Logs e Monitoramento

O sistema inclui logging detalhado para:
- Conexões com banco de dados
- Validações executadas
- Erros e exceções
- Performance de queries

## 🤝 Contribuição

1. Fork o projeto
2. Crie uma branch para sua feature
3. Commit suas mudanças
4. Push para a branch
5. Abra um Pull Request

## 📄 Licença

Este projeto está sob a licença MIT. Veja o arquivo LICENSE para mais detalhes.
